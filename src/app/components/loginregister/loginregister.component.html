<div class="main">
  <!-- Checkbox to toggle between login and signup -->
  <input type="checkbox" id="chk" aria-hidden="true">

  <!-- Sign-up Form -->
  <div class="signup">
    <form [formGroup]="registerForm" (ngSubmit)="onRegisterSubmit()">
      <label for="chk" aria-hidden="true">Sign up</label>

      <!-- Role Selection Buttons -->
      <div class="role-buttons">
        <button
          type="button"
          class="btn btn-success"
          [class.active]="selectedRole === 'STUDENT'"
          (click)="selectRole('STUDENT')">
          Student
        </button>
        <button
          type="button"
          class="btn btn-success"
          [class.active]="selectedRole === 'TRAINER'"
          (click)="selectRole('TRAINER')">
          Trainer
        </button>
      </div>

      <!-- Dynamic Input Fields -->
      <input type="text" formControlName="firstName" placeholder="First Name" required>
      <div *ngIf="registerForm.get('firstName')?.invalid && registerForm.get('firstName')?.touched" class="error">First name is required (min 2 characters)</div>
      
      <input type="text" formControlName="lastName" placeholder="Last Name" required>
      <div *ngIf="registerForm.get('lastName')?.invalid && registerForm.get('lastName')?.touched" class="error">Last name is required (min 2 characters)</div>
      
      <input type="email" formControlName="email" placeholder="Email" required>
      <div *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched" class="error">Valid email is required</div>
      
      <input type="password" formControlName="password" placeholder="Password" required>
      <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched" class="error">Password must be at least 6 characters</div>
      
      <input type="text" formControlName="phoneNumber" placeholder="Phone Number" required>
      <div *ngIf="registerForm.get('phoneNumber')?.invalid && registerForm.get('phoneNumber')?.touched" class="error">Valid phone number is required</div>

      <!-- Student-Specific Fields -->
      <div *ngIf="selectedRole === 'STUDENT'">
        <input type="text" formControlName="universityName" placeholder="University Name">
        <div *ngIf="registerForm.get('universityName')?.invalid && registerForm.get('universityName')?.touched" class="error">University Name is required</div>
        
        <input type="text" formControlName="fieldOfStudy" placeholder="Field of Study">
        <div *ngIf="registerForm.get('fieldOfStudy')?.invalid && registerForm.get('fieldOfStudy')?.touched" class="error">Field of Study is required</div>
        
        <input type="text" formControlName="level" placeholder="Level">
        <div *ngIf="registerForm.get('level')?.invalid && registerForm.get('level')?.touched" class="error">Level is required</div>
      </div>

      <!-- Trainer-Specific Field -->
      <div *ngIf="selectedRole === 'TRAINER'">
        <input type="text" formControlName="speciality" placeholder="Speciality">
        <div *ngIf="registerForm.get('speciality')?.invalid && registerForm.get('speciality')?.touched" class="error">Speciality is required</div>
      </div>

      <!-- Submit Button -->
      <button type="submit" [disabled]="registerForm.invalid">Sign up</button>
    </form>
  </div>

  <!-- Login Form -->
  <div class="login">
    <form [formGroup]="loginForm" (ngSubmit)="onLoginSubmit()">
      <label for="chk" aria-hidden="true">Login</label>
      
      <input type="email" formControlName="email" placeholder="Email" required>
      <div *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched" class="error">Valid email is required</div>
      
      <input type="password" formControlName="password" placeholder="Password" required>
      <div *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched" class="error">Password is required</div>
      
      <!-- Reset Password Link -->
      <div class="reset-password">
        <a href="/forgot-password">Forgot your password?</a>
      </div>

      <button type="submit" [disabled]="loginForm.invalid">Login</button>
    </form>
  </div>
</div>
